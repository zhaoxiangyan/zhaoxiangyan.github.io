(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{433:function(e,t,s){e.exports=s.p+"assets/img/setupFiles-vs-setupFilesAfterEnv.3c351d96.png"},470:function(e,t,s){"use strict";s.r(t);var r=s(36),v=Object(r.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"jest"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#jest"}},[e._v("#")]),e._v(" "),r("a",{attrs:{href:"https://github.yanhaixiang.com/jest-tutorial/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jest"),r("OutboundLink")],1)]),e._v(" "),r("h2",{attrs:{id:"setupfilesafterenv-vs-setupfiles"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setupfilesafterenv-vs-setupfiles"}},[e._v("#")]),e._v(" "),r("code",[e._v("setupFilesAfterEnv")]),e._v(" vs "),r("code",[e._v("setupFiles")])]),e._v(" "),r("p",[e._v("插入一下：相信很多人都知道 Jest 的 "),r("code",[e._v("setupFiles")]),e._v("，但不太了解 "),r("code",[e._v("setupFilesAfterEnv")]),e._v("，这里简单讲讲它们的区别 "),r("strong",[e._v("（可从 "),r("a",{attrs:{href:"https://jestjs.io/docs/configuration#setupfiles-array",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网的介绍"),r("OutboundLink")],1),e._v("了解更多）：")])]),e._v(" "),r("p",[r("img",{attrs:{src:s(433),alt:"setupFilesAfterEnv vs setupFiles",title:"setupFilesAfterEnv vs setupFiles"}})]),e._v(" "),r("p",[e._v("简单来说：")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("setupFiles")]),e._v(" 是在 "),r("strong",[e._v("引入测试环境（比如下面的 "),r("code",[e._v("jsdom")]),e._v("）之后")]),e._v(" 执行的代码")]),e._v(" "),r("li",[r("code",[e._v("setupFilesAfterEnv")]),e._v(" 则是在 "),r("strong",[e._v("安装测试框架之后")]),e._v(" 执行的代码\n具体应用场景是：在 "),r("code",[e._v("setupFiles")]),e._v(" 可以添加 "),r("strong",[e._v("测试环境")]),e._v(" 的补充，比如 Mock 全局变量 "),r("code",[e._v("abcd")]),e._v(" 等。而在 "),r("code",[e._v("setupFilesAfterEnv")]),e._v(" 可以引入和配置 Jest/Jasmine（Jest 内部使用了 Jasmine） 插件。")])]),e._v(" "),r("p",[e._v("如果你试图在 "),r("code",[e._v("setupFiles")]),e._v(" 添加 Jest 的扩展/插件，那么你可能会得到 "),r("code",[e._v("expect is not defined")]),e._v(" 报错。"),r("a",{attrs:{href:"https://github.com/testing-library/jest-dom/issues/122#issuecomment-650520461",target:"_blank",rel:"noopener noreferrer"}},[e._v("详见这个 Issue"),r("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);t.default=v.exports}}]);